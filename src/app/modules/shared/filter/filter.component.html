<!-- Applied Filters Chips -->
<div
  *ngIf="filters.year || filters.month || filters.status || filters.search"
  class="mb-3 d-flex flex-wrap gap-2"
>
  <span *ngIf="filters.year" class="badge bg-secondary">
    Year: {{ filters.year }}
    <button
      type="button"
      class="btn-close btn-close-white ms-2"
      aria-label="Remove"
      (click)="removeFilter('year')"
    ></button>
  </span>
  <span *ngIf="filters.month" class="badge bg-secondary">
    Month: {{ filters.month }}
    <button
      type="button"
      class="btn-close btn-close-white ms-2"
      aria-label="Remove"
      (click)="removeFilter('month')"
    ></button>
  </span>
  <span *ngIf="filters.status" class="badge bg-secondary">
    Status: {{ filters.status }}
    <button
      type="button"
      class="btn-close btn-close-white ms-2"
      aria-label="Remove"
      (click)="removeFilter('status')"
    ></button>
  </span>
  <span *ngIf="filters.search" class="badge bg-secondary">
    Search: {{ filters.search }}
    <button
      type="button"
      class="btn-close btn-close-white ms-2"
      aria-label="Remove"
      (click)="removeFilter('search')"
    ></button>
  </span>
</div>

<!-- Horizontal Filter Bar -->
<div *ngIf="layout === 'bar'" class="card p-3 shadow-sm">
  <div class="row g-3">
    <!-- Year -->
    <div class="col-12 col-md-3">
      <label class="form-label">Year</label>
      <select [(ngModel)]="filters.year" class="form-select">
        <option value="0">Select Year</option>
        <option *ngFor="let y of yearList" [value]="y.value">
          {{ y.text }}
        </option>
      </select>
    </div>

    <!-- Month -->
    <div class="col-12 col-md-3">
      <label class="form-label">Month</label>
      <select [(ngModel)]="filters.month" class="form-select">
        <option value="">Select Month</option>
        <option *ngFor="let m of monthList" [value]="m.value">
          {{ m.text }}
        </option>
      </select>
    </div>

    <!-- Status -->
    <div class="col-12 col-md-3">
      <label class="form-label">Status</label>
      <select [(ngModel)]="filters.status" class="form-select">
        <option value="">All</option>
        <option *ngFor="let s of statusList" [value]="s.value">
          {{ s.text }}
        </option>
      </select>
    </div>

    <!-- Search -->
    <div class="col-12 col-md-3">
      <label class="form-label">Search</label>
      <input
        type="text"
        [(ngModel)]="filters.search"
        placeholder="Search..."
        class="form-control"
      />
    </div>
  </div>

  <div class="d-flex justify-content-end gap-2 mt-3">
    <button class="btn btn-primary" (click)="applyFilters()">Apply</button>
    <button class="btn btn-outline-secondary" (click)="resetFilters()">
      Reset
    </button>
  </div>
</div>

<!-- Sidebar Filter -->
<div
  *ngIf="layout === 'sidebar'"
  class="card shadow-sm p-3"
  style="width: 280px"
>
  <h5 class="mb-3">Filters</h5>

  <!-- Year -->
  <div class="mb-3">
    <label class="form-label">Year</label>
    <select [(ngModel)]="filters.year" class="form-select">
      <option value="0">Select Year</option>
      <option *ngFor="let y of yearList" [value]="y.value">{{ y.text }}</option>
    </select>
  </div>

  <!-- Month -->
  <div class="mb-3">
    <label class="form-label">Month</label>
    <select [(ngModel)]="filters.month" class="form-select">
      <option value="">Select Month</option>
      <option *ngFor="let m of monthList" [value]="m.value">
        {{ m.text }}
      </option>
    </select>
  </div>

  <!-- Status -->
  <div class="mb-3">
    <label class="form-label">Status</label>
    <div *ngFor="let s of statusList" class="form-check">
      <input
        class="form-check-input"
        type="radio"
        [(ngModel)]="filters.status"
        [value]="s.value"
        name="statusFilter"
      />
      <label class="form-check-label">{{ s.text }}</label>
    </div>
  </div>

  <!-- Search -->
  <div class="mb-3">
    <label class="form-label">Search</label>
    <input
      type="text"
      [(ngModel)]="filters.search"
      placeholder="Search..."
      class="form-control"
    />
  </div>

  <!-- Buttons -->
  <div class="d-flex flex-column gap-2">
    <button class="btn btn-primary w-100" (click)="applyFilters()">
      Apply
    </button>
    <button class="btn btn-outline-secondary w-100" (click)="resetFilters()">
      Reset
    </button>
  </div>
</div>
